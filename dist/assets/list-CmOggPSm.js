import{ad as v,ac as i,j as e,h as c,ab as N,C as r,a9 as L,f as B,I as $,B as u}from"./index-CvtVSQws.js";import{r as d}from"./vendor-DnBvEODk.js";import{T as q,a as I,b as E,c as n,d as R,e as l}from"./table-DHWKtPDL.js";import{C as H}from"./credit-card-B99HFkAo.js";import{D as z}from"./dollar-sign-DRnImOfP.js";import{C as k}from"./clock-CNb7Ahlq.js";import{C as j}from"./circle-x-UqMaUdGw.js";import{F as M}from"./filter-Dwws2gJ6.js";import{E as _}from"./eye-BqvVw_K2.js";import{E as J}from"./ellipsis-D-65NNj6.js";import"./ui-B3mmoSQN.js";import"./utils-BladrqYR.js";import"./router-B69B8wSc.js";import"./forms-CGt9tnos.js";function ie(){const[f,O]=d.useState(""),[a,V]=d.useState([]),[U,p]=d.useState(!0),[m,x]=d.useState(!1);d.useEffect(()=>{h()},[]);const h=async()=>{try{p(!0);const s=await v.request("/payouts");V(s.data||[])}catch(s){console.error("Failed to fetch payouts:",s),i.error("Failed to load payouts",{description:s.message||"An error occurred while loading payouts"})}finally{p(!1)}},X=()=>{i.info("Process Payout",{description:"Opening payout processing form..."})},g=async(s,t)=>{try{x(!0),await v.request(`/payouts/${s}`,{method:"PATCH",body:JSON.stringify({status:t})}),i.success("Payout updated",{description:`Payout status updated to ${t}`}),await h()}catch(o){console.error("Failed to update payout:",o),i.error("Failed to update payout",{description:o.message||"An error occurred while updating payout"})}finally{x(!1)}},w=s=>{i.info("Viewing payout",{description:`Opening payout #${s}`})},P=s=>{switch(s){case"completed":return e.jsxDEV(u,{className:"bg-green-100 text-green-800",children:[e.jsxDEV(L,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:113,columnNumber:63},this),"Completed"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:113,columnNumber:16},this);case"pending":return e.jsxDEV(u,{className:"bg-yellow-100 text-yellow-800",children:[e.jsxDEV(k,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:115,columnNumber:65},this),"Pending"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:115,columnNumber:16},this);case"failed":return e.jsxDEV(u,{className:"bg-red-100 text-red-800",children:[e.jsxDEV(j,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:117,columnNumber:59},this),"Failed"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:117,columnNumber:16},this);case"processing":return e.jsxDEV(u,{className:"bg-blue-100 text-blue-800",children:"Processing"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:119,columnNumber:16},this);default:return e.jsxDEV(u,{variant:"secondary",children:s},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:121,columnNumber:16},this)}},b=a.filter(s=>{var o,D,y,C;const t=f.toLowerCase();return((D=(o=s.seller)==null?void 0:o.name)==null?void 0:D.toLowerCase().includes(t))||((y=s.reference)==null?void 0:y.toLowerCase().includes(t))||((C=s.method)==null?void 0:C.toLowerCase().includes(t))}),S=a.filter(s=>s.status==="pending").length,F=a.filter(s=>s.status==="completed").length,T=a.filter(s=>s.status==="failed").length,A=a.filter(s=>s.status==="completed").reduce((s,t)=>s+Number(t.amount),0);return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:"Payouts"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:146,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Manage seller payouts and transactions"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:145,columnNumber:9},this),e.jsxDEV(c,{onClick:X,disabled:m,children:[m&&e.jsxDEV(N,{className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:150,columnNumber:28},this),e.jsxDEV(H,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:151,columnNumber:11},this),"Process Payout"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:149,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:144,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxDEV(r,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(z,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:160,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Total Paid"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:["$",A.toFixed(2)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:159,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:158,columnNumber:9},this),e.jsxDEV(r,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(k,{className:"w-5 h-5 text-yellow-500"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:169,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Pending"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:171,columnNumber:15},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:S},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:172,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:168,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:167,columnNumber:9},this),e.jsxDEV(r,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(L,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:178,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Completed"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:180,columnNumber:15},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:F},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:179,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:177,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:176,columnNumber:9},this),e.jsxDEV(r,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(j,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:187,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Failed"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:T},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:190,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:186,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:185,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:157,columnNumber:7},this),e.jsxDEV(r,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:200,columnNumber:13},this),e.jsxDEV($,{placeholder:"Search payouts...",className:"pl-10",value:f,onChange:s=>O(s.target.value)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:199,columnNumber:11},this),e.jsxDEV(c,{variant:"outline",children:[e.jsxDEV(M,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:209,columnNumber:13},this),"Filter"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:198,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:197,columnNumber:7},this),e.jsxDEV(r,{children:U?e.jsxDEV("div",{className:"flex items-center justify-center p-8",children:e.jsxDEV(N,{className:"w-8 h-8 animate-spin text-muted-foreground"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:219,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:218,columnNumber:11},this):b.length===0?e.jsxDEV("div",{className:"text-center p-8 text-muted-foreground",children:"No payouts found"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:222,columnNumber:11},this):e.jsxDEV(q,{children:[e.jsxDEV(I,{children:e.jsxDEV(E,{children:[e.jsxDEV(n,{children:"Seller"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:229,columnNumber:17},this),e.jsxDEV(n,{children:"Amount"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:230,columnNumber:17},this),e.jsxDEV(n,{children:"Method"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:231,columnNumber:17},this),e.jsxDEV(n,{children:"Status"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:232,columnNumber:17},this),e.jsxDEV(n,{children:"Reference"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:233,columnNumber:17},this),e.jsxDEV(n,{children:"Request Date"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:234,columnNumber:17},this),e.jsxDEV(n,{className:"w-[100px]",children:"Actions"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:235,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:228,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:227,columnNumber:13},this),e.jsxDEV(R,{children:b.map(s=>{var t;return e.jsxDEV(E,{children:[e.jsxDEV(l,{className:"font-medium",children:((t=s.seller)==null?void 0:t.name)||`Seller #${s.seller_id}`},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:241,columnNumber:19},this),e.jsxDEV(l,{children:["$",Number(s.amount).toFixed(2)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:244,columnNumber:19},this),e.jsxDEV(l,{children:s.method||"-"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:245,columnNumber:19},this),e.jsxDEV(l,{children:P(s.status)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:246,columnNumber:19},this),e.jsxDEV(l,{children:s.reference?e.jsxDEV("span",{className:"font-mono text-sm",children:s.reference},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:249,columnNumber:23},this):e.jsxDEV("span",{className:"text-muted-foreground",children:"-"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:251,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:247,columnNumber:19},this),e.jsxDEV(l,{children:new Date(s.request_date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:254,columnNumber:19},this),e.jsxDEV(l,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(c,{variant:"ghost",size:"sm",onClick:()=>w(s.id),children:e.jsxDEV(_,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:264,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:259,columnNumber:23},this),s.status==="pending"&&e.jsxDEV(c,{variant:"ghost",size:"sm",onClick:()=>g(s.id,"processing"),disabled:m,children:[m&&e.jsxDEV(N,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:273,columnNumber:44},this),e.jsxDEV(J,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:274,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:267,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:258,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:257,columnNumber:19},this)]},s.id,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:240,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:238,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:226,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:216,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/payouts/list.tsx",lineNumber:142,columnNumber:5},this)}export{ie as default};
