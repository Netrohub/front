import{a as z,j as e,P as B}from"./ui-8LkqUuQ1.js";import{r as m}from"./vendor-DH0FW2o-.js";import{L as y}from"./router-DNfABZAc.js";import{A as k}from"./AccountLayout-Crg4DFY9.js";import{c as H,j as J,u as Q,t as ee,X as L,U as ae,C as f,a7 as u,B as se,h as d,O as P,_ as re,I as ie,s as le,a6 as ne,a9 as o}from"./index-DJ-Zc7gD.js";import{P as te,a as de,b as oe,C as ce,c as me,d as xe,e as he,f as fe,g as ue}from"./command-B2V8Dr6Z.js";import{P as $}from"./phone-DsRIx62d.js";import"./sheet-Cg-hKhGh.js";import"./layout-dashboard-NQGphfyQ.js";import"./wallet-pzP2r6KL.js";import"./bell-Cq7S1dTa.js";import"./credit-card-CxEM56tP.js";import"./utils-BladrqYR.js";import"./forms-DPxY1lef.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=H("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var S="Progress",V=100,[ge,Oe]=z(S),[je,Ne]=ge(S),O=m.forwardRef((r,a)=>{const{__scopeProgress:x,value:t=null,max:i,getValueLabel:g=ve,...j}=r;(i||i===0)&&!M(i)&&console.error(be(`${i}`,"Progress"));const h=M(i)?i:V;t!==null&&!R(t,h)&&console.error(ye(`${t}`,"Progress"));const c=R(t,h)?t:null,N=C(c)?g(c,h):void 0;return e.jsx(je,{scope:x,value:c,max:h,children:e.jsx(B.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":C(c)?c:void 0,"aria-valuetext":N,role:"progressbar","data-state":G(c,h),"data-value":c??void 0,"data-max":h,...j,ref:a})})});O.displayName=S;var K="ProgressIndicator",F=m.forwardRef((r,a)=>{const{__scopeProgress:x,...t}=r,i=Ne(K,x);return e.jsx(B.div,{"data-state":G(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...t,ref:a})});F.displayName=K;function ve(r,a){return`${Math.round(r/a*100)}%`}function G(r,a){return r==null?"indeterminate":r===a?"complete":"loading"}function C(r){return typeof r=="number"}function M(r){return C(r)&&!isNaN(r)&&r>0}function R(r,a){return C(r)&&!isNaN(r)&&r<=a&&r>=0}function be(r,a){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${V}\`.`}function ye(r,a){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${V} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var T=O,Ce=F;const U=m.forwardRef(({className:r,value:a,...x},t)=>e.jsx(T,{ref:t,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...x,children:e.jsx(Ce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));U.displayName=T.displayName;const Y=[{code:"US",name:"United States",dialCode:"+1",flag:"ðŸ‡ºðŸ‡¸"},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"ðŸ‡¬ðŸ‡§"},{code:"CA",name:"Canada",dialCode:"+1",flag:"ðŸ‡¨ðŸ‡¦"},{code:"AU",name:"Australia",dialCode:"+61",flag:"ðŸ‡¦ðŸ‡º"},{code:"DE",name:"Germany",dialCode:"+49",flag:"ðŸ‡©ðŸ‡ª"},{code:"FR",name:"France",dialCode:"+33",flag:"ðŸ‡«ðŸ‡·"},{code:"IT",name:"Italy",dialCode:"+39",flag:"ðŸ‡®ðŸ‡¹"},{code:"ES",name:"Spain",dialCode:"+34",flag:"ðŸ‡ªðŸ‡¸"},{code:"NL",name:"Netherlands",dialCode:"+31",flag:"ðŸ‡³ðŸ‡±"},{code:"SE",name:"Sweden",dialCode:"+46",flag:"ðŸ‡¸ðŸ‡ª"},{code:"NO",name:"Norway",dialCode:"+47",flag:"ðŸ‡³ðŸ‡´"},{code:"DK",name:"Denmark",dialCode:"+45",flag:"ðŸ‡©ðŸ‡°"},{code:"FI",name:"Finland",dialCode:"+358",flag:"ðŸ‡«ðŸ‡®"},{code:"PL",name:"Poland",dialCode:"+48",flag:"ðŸ‡µðŸ‡±"},{code:"CZ",name:"Czech Republic",dialCode:"+420",flag:"ðŸ‡¨ðŸ‡¿"},{code:"AT",name:"Austria",dialCode:"+43",flag:"ðŸ‡¦ðŸ‡¹"},{code:"CH",name:"Switzerland",dialCode:"+41",flag:"ðŸ‡¨ðŸ‡­"},{code:"BE",name:"Belgium",dialCode:"+32",flag:"ðŸ‡§ðŸ‡ª"},{code:"IE",name:"Ireland",dialCode:"+353",flag:"ðŸ‡®ðŸ‡ª"},{code:"PT",name:"Portugal",dialCode:"+351",flag:"ðŸ‡µðŸ‡¹"},{code:"GR",name:"Greece",dialCode:"+30",flag:"ðŸ‡¬ðŸ‡·"},{code:"JP",name:"Japan",dialCode:"+81",flag:"ðŸ‡¯ðŸ‡µ"},{code:"KR",name:"South Korea",dialCode:"+82",flag:"ðŸ‡°ðŸ‡·"},{code:"CN",name:"China",dialCode:"+86",flag:"ðŸ‡¨ðŸ‡³"},{code:"IN",name:"India",dialCode:"+91",flag:"ðŸ‡®ðŸ‡³"},{code:"SG",name:"Singapore",dialCode:"+65",flag:"ðŸ‡¸ðŸ‡¬"},{code:"AE",name:"United Arab Emirates",dialCode:"+971",flag:"ðŸ‡¦ðŸ‡ª"},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:"ðŸ‡¸ðŸ‡¦"},{code:"ZA",name:"South Africa",dialCode:"+27",flag:"ðŸ‡¿ðŸ‡¦"},{code:"BR",name:"Brazil",dialCode:"+55",flag:"ðŸ‡§ðŸ‡·"},{code:"MX",name:"Mexico",dialCode:"+52",flag:"ðŸ‡²ðŸ‡½"},{code:"AR",name:"Argentina",dialCode:"+54",flag:"ðŸ‡¦ðŸ‡·"},{code:"CL",name:"Chile",dialCode:"+56",flag:"ðŸ‡¨ðŸ‡±"},{code:"CO",name:"Colombia",dialCode:"+57",flag:"ðŸ‡¨ðŸ‡´"},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:"ðŸ‡³ðŸ‡¿"}],Ke=()=>{const{t:r}=Q(),{user:a,updateKYCStatus:x,completeKYC:t}=ee(),[i,g]=m.useState(1),[j,h]=m.useState(Y[0]),[c,N]=m.useState(!1),[p,_]=m.useState(""),[n,v]=m.useState({email:(a==null?void 0:a.emailVerified)||!1,phone:(a==null?void 0:a.phoneVerified)||!1,identity:(a==null?void 0:a.kycStatus)==="verified"});m.useEffect(()=>{v({email:(a==null?void 0:a.emailVerified)||!1,phone:(a==null?void 0:a.phoneVerified)||!1,identity:(a==null?void 0:a.kycStatus)==="verified"})},[a]),m.useEffect(()=>{if(a){const s=A();s!==i&&g(s)}},[a,i]);const b=[{id:1,title:r("Email Verification"),description:r("Verify your email address with a confirmation link"),icon:L,status:n.email},{id:2,title:r("Phone Verification"),description:r("Verify your phone number with a verification code"),icon:$,status:n.phone},{id:3,title:r("Identity Verification"),description:r("Verify your identity with Persona"),icon:ae,status:n.identity}],E=()=>i/b.length*100,w=()=>n.email&&n.phone&&n.identity,A=()=>n.email?n.phone?(n.identity,3):2:1,I=s=>s===1?!0:s===2?n.email:s===3?n.email&&n.phone:!1,D=async()=>{try{o.loading("Sending verification email..."),await new Promise(s=>setTimeout(s,2e3)),await x("email",!0),v(s=>({...s,email:!0})),o.success("Verification email sent!")}catch{o.error("Email Verification Failed")}},X=async()=>{if(!p||p.length<7){o.error("Please enter a valid phone number");return}try{o.loading("Sending verification code...");const s=`${j.dialCode} ${p}`;console.log("Sending SMS to:",s),await new Promise(l=>setTimeout(l,2e3)),await x("phone",!0),v(l=>({...l,phone:!0})),o.success("Phone verification code sent!")}catch{o.error("Phone Verification Failed")}},q=async()=>{try{o.loading("Submitting verification..."),await new Promise(s=>setTimeout(s,3e3)),await x("identity",!0),v(s=>({...s,identity:!0})),o.success("Verification submitted successfully!"),n.email&&n.phone&&(await t(),o.success("ðŸŽ‰ KYC verification completed! You can now access all seller features."))}catch{o.error("Verification Failed")}},W=()=>{var s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-green-500/10 flex items-center justify-center",children:e.jsx(u,{className:"h-10 w-10 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"KYC Verification Complete!"}),e.jsx("p",{className:"text-foreground/60 mb-8",children:"Congratulations! You have successfully completed all verification steps. You can now access all seller features on NXOLand."})]}),e.jsx(f,{className:"glass-card p-6 border-green-500/30 bg-green-500/5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-green-400 mb-4",children:"All Verification Steps Completed"}),e.jsx("div",{className:"space-y-3",children:b.map(l=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[e.jsx(u,{className:"h-5 w-5 text-green-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-foreground",children:l.title}),e.jsx("p",{className:"text-sm text-foreground/60",children:l.description})]}),e.jsx(se,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Verified"})]},l.id))})]})}),e.jsxs("div",{className:"flex gap-3",children:[((s=a==null?void 0:a.subscription)==null?void 0:s.plan)==="Elite"?e.jsx(d,{asChild:!0,className:"flex-1 btn-glow",children:e.jsxs(y,{to:"/seller/dashboard",children:["Go to Seller Dashboard",e.jsx(P,{className:"h-4 w-4 ml-2"})]})}):e.jsxs(d,{className:"flex-1 btn-glow opacity-50 cursor-not-allowed",disabled:!0,title:"Elite plan required for seller dashboard",children:["Go to Seller Dashboard (Elite Only)",e.jsx(P,{className:"h-4 w-4 ml-2"})]}),e.jsx(d,{asChild:!0,variant:"outline",className:"flex-1",children:e.jsx(y,{to:"/account/dashboard",children:"Back to Account"})})]}),e.jsxs(f,{className:"glass-card p-6 border-primary/30",children:[e.jsx("h3",{className:"font-semibold text-primary mb-4",children:"What's Next?"}),e.jsxs("ul",{className:"space-y-2 text-sm text-foreground/60",children:[e.jsx("li",{children:"â€¢ Start listing your products and services"}),e.jsx("li",{children:"â€¢ Access advanced seller analytics"}),e.jsx("li",{children:"â€¢ Manage your orders and customers"}),e.jsx("li",{children:"â€¢ Set up your payment methods"}),e.jsx("li",{children:"â€¢ Build your seller reputation"})]})]})]})},Z=()=>{const s=b.find(l=>l.id===i);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-primary/10 flex items-center justify-center",children:(s==null?void 0:s.icon)&&e.jsx(s.icon,{className:"h-10 w-10 text-primary"})}),e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:s==null?void 0:s.title}),e.jsx("p",{className:"text-foreground/60 mb-8",children:s==null?void 0:s.description})]}),e.jsx(f,{className:"glass-card p-6",children:e.jsxs("div",{className:"space-y-4",children:[i===1&&e.jsx("div",{className:"space-y-4",children:n.email?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-green-500/10 border border-green-500/20 mb-4",children:[e.jsx(u,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"Email Already Verified"})]}),e.jsx("p",{className:"text-sm text-foreground/60 mb-4",children:"Your email has been successfully verified"}),e.jsx("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:e.jsx("p",{className:"font-medium text-primary",children:a==null?void 0:a.email})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-foreground/60 mb-4",children:"We'll send a verification link to your email address"}),e.jsx("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:e.jsx("p",{className:"font-medium text-primary",children:a==null?void 0:a.email})})]}),e.jsxs(d,{onClick:D,className:"w-full btn-glow",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Send Verification Email"]})]})}),i===2&&e.jsx("div",{className:"space-y-4",children:n.phone?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-green-500/10 border border-green-500/20 mb-4",children:[e.jsx(u,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"Phone Already Verified"})]}),e.jsx("p",{className:"text-sm text-foreground/60 mb-4",children:"Your phone number has been successfully verified"}),e.jsx("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:e.jsx("p",{className:"font-medium text-primary",children:(a==null?void 0:a.phone)||"Phone number verified"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-foreground/60 mb-4",children:"We'll send a verification code to your phone number"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(te,{open:c,onOpenChange:N,children:[e.jsx(de,{asChild:!0,children:e.jsxs(d,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-[140px] justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:j.flag}),e.jsx("span",{children:j.dialCode})]}),e.jsx(re,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(oe,{className:"w-[300px] p-0",children:e.jsxs(ce,{children:[e.jsx(me,{placeholder:"Search country..."}),e.jsxs(xe,{children:[e.jsx(he,{children:"No country found."}),e.jsx(fe,{children:Y.map(l=>e.jsx(ue,{value:`${l.name} ${l.dialCode} ${l.code}`,onSelect:()=>{h(l),N(!1)},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:l.flag}),e.jsx("span",{children:l.name}),e.jsx("span",{className:"text-muted-foreground",children:l.dialCode})]})},l.code))})]})]})})]}),e.jsx(ie,{type:"tel",placeholder:"Phone number",value:p,onChange:l=>_(l.target.value),className:"flex-1"})]}),e.jsxs(d,{onClick:X,className:"w-full btn-glow",disabled:!p||p.length<7,children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Send Verification Code"]})]})]})}),i===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-foreground/60 mb-4",children:"Verify your identity with government ID and selfie"})}),n.identity?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400",children:[e.jsx(u,{className:"h-5 w-5"}),e.jsx("span",{children:"Identity Verified"})]}):e.jsxs(d,{onClick:q,className:"w-full btn-glow",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Start Identity Verification",e.jsx(pe,{className:"h-4 w-4 ml-2"})]})]})]})}),w()&&e.jsxs(f,{className:"glass-card p-6 border-green-500/30 bg-green-500/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 rounded-full bg-green-500/20",children:e.jsx(u,{className:"h-6 w-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-500",children:"KYC Verification Complete!"}),e.jsx("p",{className:"text-sm text-foreground/60",children:"Your identity has been successfully verified. You can now access all platform features."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(d,{asChild:!0,className:"flex-1",children:e.jsx(y,{to:"/account/dashboard",children:"Go to Dashboard"})}),e.jsx(d,{asChild:!0,variant:"outline",className:"flex-1",children:e.jsx(y,{to:"/products",children:"Browse Products"})})]})]}),!w()&&e.jsxs("div",{className:"flex gap-3",children:[i>1&&e.jsxs(d,{variant:"outline",onClick:()=>g(i-1),className:"flex-1",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"Back"]}),i<3&&e.jsxs(d,{onClick:()=>{const l=A();I(l)&&g(l)},className:"flex-1 btn-glow",disabled:!I(i+1),children:[i===1&&!n.email?"Complete Email First":"Next",e.jsx(P,{className:"h-4 w-4 ml-2"})]})]}),e.jsxs(f,{className:"glass-card p-6 border-primary/30",children:[e.jsx("h3",{className:"font-semibold text-primary mb-4",children:"Why do we need this?"}),e.jsxs("ul",{className:"space-y-2 text-sm text-foreground/60",children:[e.jsx("li",{children:"â€¢ Protect buyers and sellers from fraud"}),e.jsx("li",{children:"â€¢ Comply with legal and regulatory requirements"}),e.jsx("li",{children:"â€¢ Ensure secure transactions on the platform"}),e.jsx("li",{children:"â€¢ Build trust in the NXOLand community"})]})]})]})};return w()?e.jsx(k,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-foreground mb-2",children:"KYC Verification Complete"}),e.jsx("p",{className:"text-foreground/60",children:"All verification steps have been successfully completed"})]}),e.jsx(f,{className:"glass-card p-8",children:W()})]})}):e.jsx(k,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-foreground mb-2",children:"Identity Verification"}),e.jsx("p",{className:"text-foreground/60",children:"Complete all verification steps to start selling on NXOLand"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Progress"}),e.jsxs("span",{className:"text-sm text-foreground/60",children:[Math.round(E()),"%"]})]}),e.jsx(U,{value:E(),className:"h-2"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:b.map(s=>e.jsx(f,{className:`glass-card p-4 ${i===s.id?"border-primary/50 bg-primary/5":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.status?"bg-green-500/20 text-green-400":i===s.id?"bg-primary/20 text-primary":"bg-foreground/10 text-foreground/40"}`,children:s.status?e.jsx(u,{className:"h-4 w-4"}):e.jsx(s.icon,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-foreground/60",children:s.description})]})]})},s.id))}),e.jsx(f,{className:"glass-card p-8",children:Z()})]})})};export{Ke as default};
