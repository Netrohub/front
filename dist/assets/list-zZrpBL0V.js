import{j as t}from"./ui-8LkqUuQ1.js";import{r as d}from"./vendor-DH0FW2o-.js";import{$ as v,P as k}from"./index-BXMhu9HI.js";import{D as N,C as w}from"./ConfirmDialog-DB6HcN8r.js";import{c as D,m as I,h as U,U as C,B as m,s as S}from"./index-DJ-Zc7gD.js";import{a as b}from"./router-DNfABZAc.js";import{f as z}from"./utils-BladrqYR.js";import"./table-8L0bK-M7.js";import"./ellipsis-D_jF052c.js";import"./eye-eHhB2xYa.js";import"./square-pen-DgF4O29M.js";import"./trash-2-D_VMLyqA.js";import"./chevron-left-CIsvNeiC.js";import"./forms-DPxY1lef.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=D("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);function O(){const a=b(),{toast:r}=I(),[n,i]=d.useState({open:!1,userId:null}),[o,u]=d.useState([]),{data:s,isLoading:p,refetch:x}=v({resource:"users",pagination:{current:1,pageSize:10}}),{mutate:f}=k(),h=e=>{i({open:!0,userId:e})},y=()=>{n.userId&&f({resource:"users",id:n.userId},{onSuccess:()=>{r({title:"User deleted",description:"User has been successfully deleted."}),x()},onError:()=>{r({title:"Error",description:"Failed to delete user.",variant:"destructive"})}}),i({open:!1,userId:null})},c=e=>{o.length!==0&&r({title:"Bulk Action",description:`${e} applied to ${o.length} users.`})},g=[{key:"name",title:"Name",dataIndex:"name",render:(e,l)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(C,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:l.email})]})]})},{key:"role",title:"Role",dataIndex:"role",render:e=>t.jsx(m,{variant:"secondary",className:"capitalize",children:e})},{key:"status",title:"Status",dataIndex:"status",render:e=>t.jsx(m,{variant:e==="active"?"default":"destructive",className:"capitalize",children:e})},{key:"created_at",title:"Created",dataIndex:"created_at",render:e=>z(new Date(e),"MMM dd, yyyy")}],j=[{label:"Deactivate",onClick:()=>c("Deactivate"),icon:t.jsx($,{className:"h-4 w-4"})},{label:"Impersonate",onClick:()=>c("Impersonate"),icon:t.jsx(S,{className:"h-4 w-4"})}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Users"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and permissions"})]}),t.jsx(U,{onClick:()=>a("/admin/users/create"),children:"Add User"})]}),t.jsx(N,{data:(s==null?void 0:s.data)||[],columns:g,loading:p,pagination:{current:1,pageSize:10,total:(s==null?void 0:s.total)||0,onChange:(e,l)=>{}},rowSelection:{selectedRowKeys:o,onChange:u},actions:{view:e=>a(`/admin/users/${e.id}`),edit:e=>a(`/admin/users/${e.id}/edit`),delete:h},bulkActions:j}),t.jsx(w,{open:n.open,onOpenChange:e=>i({open:e,userId:null}),title:"Delete User",description:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Delete",variant:"destructive",onConfirm:y})]})}export{O as default};
