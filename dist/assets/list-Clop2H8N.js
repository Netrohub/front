import{n as y,j as s,U as p,a9 as c,h as E,B as f}from"./index-C6soqvN_.js";import{r as N}from"./vendor-DnBvEODk.js";import{$ as O,T as j}from"./index-DFFZ8Akc.js";import{D as L,C as x}from"./ConfirmDialog-BLUK2Znl.js";import{a as U}from"./router-B69B8wSc.js";import{f as I}from"./utils-BladrqYR.js";import"./ui-14bhMVRs.js";import"./forms-CGt9tnos.js";import"./table-OmVljsnR.js";import"./ellipsis-jDv88ua-.js";import"./eye-S0ZMBOHw.js";import"./square-pen-ChvAcTl1.js";import"./trash-2-CA01LPwi.js";import"./chevron-left-CAuM7pcE.js";import"./triangle-alert-Rc5BmWLS.js";function J(){const l=U(),{toast:i}=y(),[n,r]=N.useState({open:!1,disputeId:null}),[o,a]=N.useState({open:!1,disputeId:null}),{data:t,isLoading:D,refetch:d}=O({resource:"disputes",pagination:{current:1,pageSize:10}}),{mutate:u}=j(),h=e=>{r({open:!0,disputeId:e})},v=e=>{a({open:!0,disputeId:e})},b=()=>{n.disputeId&&u({resource:"disputes",id:n.disputeId,values:{state:"in_review"}},{onSuccess:()=>{i({title:"Moderator Assigned",description:"A moderator has been assigned to this dispute."}),d()},onError:()=>{i({title:"Error",description:"Failed to assign moderator.",variant:"destructive"})}}),r({open:!1,disputeId:null})},g=()=>{o.disputeId&&u({resource:"disputes",id:o.disputeId,values:{state:"resolved"}},{onSuccess:()=>{i({title:"Dispute Resolved",description:"The dispute has been marked as resolved."}),d()},onError:()=>{i({title:"Error",description:"Failed to resolve dispute.",variant:"destructive"})}}),a({open:!1,disputeId:null})},k=[{key:"id",title:"ID",dataIndex:"id",render:e=>`#${e}`},{key:"order_id",title:"Order",dataIndex:"order_id",render:e=>s.jsxDEV(E,{variant:"link",onClick:()=>l(`/admin/orders/${e}`),className:"p-0 h-auto",children:["Order #",e]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:121,columnNumber:9},this)},{key:"type",title:"Type",dataIndex:"type",render:e=>s.jsxDEV(f,{variant:"outline",className:"capitalize",children:e},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:135,columnNumber:9},this)},{key:"state",title:"Status",dataIndex:"state",render:e=>s.jsxDEV(f,{variant:e==="resolved"?"default":e==="in_review"?"secondary":"destructive",className:"capitalize",children:e.replace("_"," ")},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:145,columnNumber:9},this)},{key:"buyer",title:"Buyer",dataIndex:"buyer",render:e=>s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium",children:e.name},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:162,columnNumber:11},this),s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:e.email},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:161,columnNumber:9},this)},{key:"amount",title:"Amount",dataIndex:"amount",render:e=>`$${e.toFixed(2)}`},{key:"created_at",title:"Created",dataIndex:"created_at",render:e=>I(new Date(e),"MMM dd, yyyy")}],C=[{label:"Assign Moderator",onClick:()=>m("Assign Moderator"),icon:s.jsxDEV(p,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:185,columnNumber:13},this)},{label:"Resolve",onClick:()=>m("Resolve"),icon:s.jsxDEV(c,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:190,columnNumber:13},this)}],m=e=>{i({title:"Bulk Action",description:`${e} applied to selected disputes.`})};return s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between",children:s.jsxDEV("div",{children:[s.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:"Disputes"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:205,columnNumber:11},this),s.jsxDEV("p",{className:"text-muted-foreground",children:"Manage customer disputes and resolutions"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:206,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:204,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:203,columnNumber:7},this),s.jsxDEV(L,{data:(t==null?void 0:t.data)||[],columns:k,loading:D,pagination:{current:1,pageSize:10,total:(t==null?void 0:t.total)||0,onChange:(e,V)=>{}},actions:{view:e=>l(`/admin/disputes/${e.id}`),custom:[{label:"Assign Moderator",onClick:e=>h(e.id),icon:s.jsxDEV(p,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:228,columnNumber:21},this)},{label:"Resolve",onClick:e=>v(e.id),icon:s.jsxDEV(c,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:233,columnNumber:21},this)}]},bulkActions:C},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:210,columnNumber:7},this),s.jsxDEV(x,{open:n.open,onOpenChange:e=>r({open:e,disputeId:null}),title:"Assign Moderator",description:"Are you sure you want to assign a moderator to this dispute?",confirmText:"Assign",onConfirm:b},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:240,columnNumber:7},this),s.jsxDEV(x,{open:o.open,onOpenChange:e=>a({open:e,disputeId:null}),title:"Resolve Dispute",description:"Are you sure you want to mark this dispute as resolved?",confirmText:"Resolve",onConfirm:g},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:249,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:202,columnNumber:5},this)}export{J as default};
