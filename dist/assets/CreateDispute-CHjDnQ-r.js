import{j as e}from"./ui-8LkqUuQ1.js";import{a as w,d as C}from"./router-DNfABZAc.js";import{A as R}from"./AccountLayout-Crg4DFY9.js";import{r as d}from"./vendor-DH0FW2o-.js";import{c as k,a9 as h,C as j,h as y,Y as I,T as N,a0 as D,a1 as S,a2 as O,a3 as F,a4 as g}from"./index-DJ-Zc7gD.js";import{T as P}from"./textarea-Cd98j_Ph.js";import{U as L}from"./upload-DJJkUMBz.js";import{I as M}from"./image-BfZ4adRo.js";import{C as U}from"./circle-alert-NNggG3O2.js";import"./sheet-Cg-hKhGh.js";import"./layout-dashboard-NQGphfyQ.js";import"./wallet-pzP2r6KL.js";import"./bell-Cq7S1dTa.js";import"./credit-card-CxEM56tP.js";import"./utils-BladrqYR.js";import"./forms-DPxY1lef.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=k("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),B=({files:r,onFilesChange:n,maxFiles:a=5,maxSize:m=5*1024*1024})=>{const[o,u]=d.useState(!1),i=d.useCallback(s=>{if(!s)return;const x=Array.from(s),l=[];for(const c of x){if(c.size>m){h.error(`File ${c.name} is too large. Max size is 5MB.`);continue}if(!c.type.match(/^(image\/(jpeg|jpg|png)|application\/pdf)$/)){h.error(`File ${c.name} is not a supported format (JPG, PNG, PDF).`);continue}if(r.length+l.length>=a){h.error(`Maximum ${a} files allowed.`);break}l.push({id:Math.random().toString(36).substr(2,9),name:c.name,size:c.size,type:c.type,url:URL.createObjectURL(c)})}l.length>0&&(n([...r,...l]),h.success(`${l.length} file(s) uploaded successfully.`))},[r,a,m,n]),f=s=>{const x=r.find(l=>l.id===s);x&&URL.revokeObjectURL(x.url),n(r.filter(l=>l.id!==s))},p=d.useCallback(s=>{s.preventDefault(),u(!1),i(s.dataTransfer.files)},[i]),b=s=>{s.preventDefault(),u(!0)},v=()=>{u(!1)},t=s=>s<1024?s+" B":s<1024*1024?(s/1024).toFixed(1)+" KB":(s/(1024*1024)).toFixed(1)+" MB";return e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{className:`glass-card p-8 border-2 border-dashed transition-colors ${o?"border-primary bg-primary/5":"border-border/50"}`,onDrop:p,onDragOver:b,onDragLeave:v,children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 rounded-full bg-primary/10",children:e.jsx(L,{className:"h-8 w-8 text-primary"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Upload Evidence"}),e.jsx("p",{className:"text-sm text-foreground/60 mb-4",children:"Drag and drop files here, or click to select"}),e.jsxs("p",{className:"text-xs text-foreground/40",children:["Supported formats: JPG, PNG, PDF (Max ",a," files, 5MB each)"]})]}),e.jsx("input",{type:"file",id:"file-upload",className:"hidden",accept:"image/jpeg,image/jpg,image/png,application/pdf",multiple:!0,onChange:s=>i(s.target.files)}),e.jsx("label",{htmlFor:"file-upload",children:e.jsx(y,{type:"button",variant:"outline",className:"glass-card border-primary/30",asChild:!0,children:e.jsx("span",{children:"Select Files"})})})]})}),r.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-foreground",children:["Uploaded Files (",r.length,"/",a,")"]}),r.map(s=>e.jsx(j,{className:"glass-card p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 flex-shrink-0",children:s.type.startsWith("image/")?e.jsx(M,{className:"h-5 w-5 text-primary"}):e.jsx(z,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:s.name}),e.jsx("p",{className:"text-xs text-foreground/60",children:t(s.size)})]}),e.jsx(y,{type:"button",size:"sm",variant:"ghost",onClick:()=>f(s.id),className:"text-destructive hover:text-destructive flex-shrink-0",children:e.jsx(I,{className:"h-4 w-4"})})]})},s.id))]})]})},A=["Product not as described","Account not working","Missing account details","Security concerns","Fraud or scam","Other issue"],T=({orderId:r,onSubmit:n})=>{const[a,m]=d.useState(r||""),[o,u]=d.useState(""),[i,f]=d.useState(""),[p,b]=d.useState([]),v=t=>{t.preventDefault(),n({orderId:a,reason:o,description:i,files:p})};return e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs(j,{className:"glass-card p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"orderId",children:"Order ID"}),e.jsxs(D,{value:a,onValueChange:m,required:!0,children:[e.jsx(S,{className:"glass-card border-border/50",children:e.jsx(O,{placeholder:"Select an order"})}),e.jsxs(F,{className:"glass-card border-border/50",children:[e.jsx(g,{value:"ORD-001",children:"Order #ORD-001"}),e.jsx(g,{value:"ORD-002",children:"Order #ORD-002"}),e.jsx(g,{value:"ORD-003",children:"Order #ORD-003"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"reason",children:"Dispute Reason"}),e.jsxs(D,{value:o,onValueChange:u,required:!0,children:[e.jsx(S,{className:"glass-card border-border/50",children:e.jsx(O,{placeholder:"Select a reason"})}),e.jsx(F,{className:"glass-card border-border/50",children:A.map(t=>e.jsx(g,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"description",children:"Description"}),e.jsx(P,{id:"description",value:i,onChange:t=>f(t.target.value),placeholder:"Please describe your issue in detail (minimum 20 characters)",className:"glass-card border-border/50 min-h-[120px]",required:!0,minLength:20}),e.jsxs("p",{className:"text-xs text-foreground/60",children:[i.length,"/20 characters minimum"]})]})]}),e.jsx(B,{files:p,onFilesChange:b}),e.jsx(y,{type:"submit",size:"lg",className:"w-full btn-glow",disabled:!a||!o||i.length<20,children:"Submit Dispute"})]})},re=()=>{const r=w(),[n]=C(),a=n.get("orderId")||void 0,m=o=>{console.log("Dispute submitted:",o),h.success("Dispute created successfully!"),r("/disputes")};return e.jsx(R,{children:e.jsxs("div",{className:"space-y-6 max-w-3xl",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-foreground mb-2",children:"Create Dispute"}),e.jsx("p",{className:"text-foreground/60",children:"Fill out the form below to open a dispute for your order"})]}),e.jsx(j,{className:"glass-card p-6 border-blue-500/30 bg-blue-500/5",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(U,{className:"h-5 w-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("h3",{className:"font-bold text-foreground",children:"Before Opening a Dispute"}),e.jsxs("ul",{className:"space-y-1 text-foreground/70",children:[e.jsx("li",{children:"• Try contacting the seller first through order messages"}),e.jsx("li",{children:"• Gather evidence (screenshots, photos, documents)"}),e.jsx("li",{children:"• Provide a detailed description of the issue"}),e.jsx("li",{children:"• Our team will review and respond within 24-48 hours"})]})]})]})}),e.jsx(T,{orderId:a,onSubmit:m})]})})};export{re as default};
