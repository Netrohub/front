import{j as e}from"./ui-8LkqUuQ1.js";import{M as W,R as z}from"./index-BXMhu9HI.js";import{a as D}from"./utils-BladrqYR.js";import{r as f}from"./vendor-DH0FW2o-.js";import{c as k,C as J,h as u,ac as q,f as G,I as R,G as F,ah as V,ai as B,U as _,aj as $,ak as x,al as H,am as X,r as K,af as Q}from"./index-DJ-Zc7gD.js";import{S as w,b as v,a as Y}from"./sheet-Cg-hKhGh.js";import{a as ee,u as ae,O as U}from"./router-DNfABZAc.js";import{S as se}from"./settings-CUdCR9Ky.js";import{L as te}from"./layout-dashboard-NQGphfyQ.js";import{U as re}from"./users-B8PaiL7z.js";import{S as ne}from"./store-B48DC8nX.js";import{P as oe}from"./package-1ExqptJi.js";import{C as ie}from"./credit-card-CxEM56tP.js";import{T as b}from"./tag-CVwk6T7_.js";import{F as ce}from"./file-text-DBGtIAiR.js";import"./forms-DPxY1lef.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=k("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=k("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=k("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),d=(s=300)=>new Promise(a=>setTimeout(a,s)),T=[{id:1,name:"John Doe",email:"john@nxoland.com",role:"customer",status:"active",created_at:"2024-01-15T10:30:00Z"},{id:2,name:"Sarah Johnson",email:"sarah@nxoland.com",role:"seller",status:"active",created_at:"2024-02-20T14:15:00Z"},{id:3,name:"Mike Wilson",email:"mike@nxoland.com",role:"seller",status:"pending",created_at:"2024-03-10T09:45:00Z"}],S=[{id:1,buyer:"John Doe",seller:"Sarah Johnson",amount:150,escrow_status:"pending",dispute_flag:!1,created_at:"2024-01-20T11:30:00Z"},{id:2,buyer:"Mike Wilson",seller:"Sarah Johnson",amount:75.5,escrow_status:"held",dispute_flag:!0,created_at:"2024-02-15T16:20:00Z"}],N=[{id:1,order_id:2,type:"quality_issue",state:"open",created_at:"2024-02-16T10:00:00Z"},{id:2,order_id:1,type:"delivery_issue",state:"in_review",created_at:"2024-01-25T14:30:00Z"}],I=[{id:1,user_id:2,display_name:"Sarah Johnson",email:"sarah@nxoland.com",kyc_status:"verified",business_type:"Individual",created_at:"2024-02-20T14:15:00Z",notes:"Premium seller with excellent ratings"},{id:2,user_id:3,display_name:"Mike Wilson",email:"mike@nxoland.com",kyc_status:"pending",business_type:"Business",created_at:"2024-03-10T09:45:00Z",notes:"New vendor awaiting verification"}],M=[{id:1,title:"Premium Instagram Account",slug:"premium-instagram-account",seller:"Sarah Johnson",price:150,stock:1,status:"active",category:"Social Media",rating:4.8,sales_count:23,created_at:"2024-02-20T14:15:00Z"},{id:2,title:"Gaming Account - Level 100",slug:"gaming-account-level-100",seller:"Mike Wilson",price:75.5,stock:3,status:"pending",category:"Gaming",rating:4.5,sales_count:12,created_at:"2024-03-10T09:45:00Z"}],C=[{id:1,seller:"Sarah Johnson",amount:1250,method:"Bank Transfer",status:"paid",transaction_id:"TXN-001234",processed_at:"2024-02-20T14:15:00Z",created_at:"2024-02-18T10:30:00Z"},{id:2,seller:"Mike Wilson",amount:450.75,method:"PayPal",status:"pending",transaction_id:null,processed_at:null,created_at:"2024-03-10T09:45:00Z"}],A=[{id:1,name:"Gaming",slug:"gaming",description:"Gaming accounts and digital items",product_count:45,status:"active",created_at:"2024-01-15T10:30:00Z"},{id:2,name:"Social Media",slug:"social-media",description:"Social media accounts and services",product_count:32,status:"active",created_at:"2024-01-20T14:15:00Z"}],Z=[{id:1,code:"WELCOME10",description:"Welcome discount for new users",type:"percentage",value:10,min_amount:50,max_discount:25,usage_limit:100,used_count:23,status:"active",expires_at:"2024-12-31T23:59:59Z",created_at:"2024-01-15T10:30:00Z"},{id:2,code:"SAVE20",description:"Flat discount for orders over $100",type:"fixed",value:20,min_amount:100,max_discount:null,usage_limit:50,used_count:12,status:"active",expires_at:"2024-06-30T23:59:59Z",created_at:"2024-02-01T14:15:00Z"}],L=[{id:1,subject:"Account verification issue",user:"john@example.com",priority:"high",status:"open",category:"Account",assigned_to:"Admin User",created_at:"2024-02-20T14:15:00Z",updated_at:"2024-02-20T16:30:00Z"},{id:2,subject:"Payment not received",user:"sarah@example.com",priority:"medium",status:"in_progress",category:"Payment",assigned_to:"Support Team",created_at:"2024-02-18T10:30:00Z",updated_at:"2024-02-19T09:15:00Z"}],P=[{id:1,user:"admin@nxoland.com",action:"User created",resource:"users",resource_id:123,details:"Created new user account for john@example.com",ip_address:"192.168.1.100",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",level:"info",created_at:"2024-02-20T14:15:00Z"},{id:2,user:"admin@nxoland.com",action:"Order updated",resource:"orders",resource_id:456,details:"Updated order status from pending to shipped",ip_address:"192.168.1.100",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",level:"info",created_at:"2024-02-20T13:30:00Z"}],ue={getList:async({resource:s,pagination:a,sorters:o,filters:n,meta:t})=>{await d();let r=[];switch(s){case"users":r=T;break;case"orders":r=S;break;case"disputes":r=N;break;case"vendors":r=I;break;case"listings":r=M;break;case"payouts":r=C;break;case"categories":r=A;break;case"coupons":r=Z;break;case"tickets":r=L;break;case"audit-logs":r=P;break;default:r=[]}const l=(a==null?void 0:a.current)||1,m=(a==null?void 0:a.pageSize)||10,h=(l-1)*m,p=h+m;return{data:r.slice(h,p),total:r.length}},getOne:async({resource:s,id:a,meta:o})=>{await d();let n=null;switch(s){case"users":n=T.find(t=>t.id===parseInt(a));break;case"orders":n=S.find(t=>t.id===parseInt(a));break;case"disputes":n=N.find(t=>t.id===parseInt(a));break;case"vendors":n=I.find(t=>t.id===parseInt(a));break;case"listings":n=M.find(t=>t.id===parseInt(a));break;case"payouts":n=C.find(t=>t.id===parseInt(a));break;case"categories":n=A.find(t=>t.id===parseInt(a));break;case"coupons":n=Z.find(t=>t.id===parseInt(a));break;case"tickets":n=L.find(t=>t.id===parseInt(a));break;case"audit-logs":n=P.find(t=>t.id===parseInt(a));break}return{data:n}},create:async({resource:s,variables:a,meta:o})=>(await d(),console.log("ðŸŽ­ Mock Admin API: Create",{resource:s,variables:a}),{data:{id:Date.now(),...a}}),update:async({resource:s,id:a,variables:o,meta:n})=>(await d(),console.log("ðŸŽ­ Mock Admin API: Update",{resource:s,id:a,variables:o}),{data:{id:parseInt(a),...o}}),deleteOne:async({resource:s,id:a,meta:o})=>(await d(),console.log("ðŸŽ­ Mock Admin API: Delete",{resource:s,id:a}),{data:{id:parseInt(a)}}),getApiUrl:()=>"http://localhost:8083",custom:async({url:s,method:a,filters:o,sorters:n,payload:t,query:r,headers:l,meta:m})=>(await d(),console.log("ðŸŽ­ Mock Admin API: Custom",{url:s,method:a,payload:t}),{data:{success:!0}})},O="https://api.nxoland.com",c=D.create({baseURL:O,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});c.interceptors.request.use(async s=>{if(s.method!=="get")try{await D.get(`${O}/sanctum/csrf-cookie`,{withCredentials:!0})}catch(a){console.warn("Failed to get CSRF token:",a)}return s});c.interceptors.response.use(s=>s,s=>{var a;return((a=s.response)==null?void 0:a.status)===401&&(window.location.href="/login"),Promise.reject(s)});const he={login:async({email:s,password:a,remember:o})=>{var n,t;try{await c.get("/sanctum/csrf-cookie");const{data:r}=await c.post("/login",{email:s,password:a,remember:o||!1});return r.user?(localStorage.setItem("auth",JSON.stringify(r.user)),{success:!0,redirectTo:"/dashboard"}):{success:!1,error:{name:"LoginError",message:"Invalid credentials"}}}catch(r){return{success:!1,error:{name:"LoginError",message:((t=(n=r.response)==null?void 0:n.data)==null?void 0:t.message)||"Login failed"}}}},logout:async()=>{try{await c.post("/logout")}catch(s){console.warn("Logout request failed:",s)}finally{return localStorage.removeItem("auth"),{success:!0,redirectTo:"/login"}}},check:async()=>{if(!localStorage.getItem("auth"))return{authenticated:!1,redirectTo:"/login"};try{const{data:a}=await c.get("/api/user");return{authenticated:!0,user:a}}catch{return localStorage.removeItem("auth"),{authenticated:!1,redirectTo:"/login"}}},getPermissions:async()=>{if(!localStorage.getItem("auth"))return null;try{const{data:a}=await c.get("/api/user");return a.permissions||[]}catch{return null}},getIdentity:async()=>{if(!localStorage.getItem("auth"))return null;try{const{data:a}=await c.get("/api/user");return a}catch{return localStorage.removeItem("auth"),null}},onError:async s=>{var a;return((a=s==null?void 0:s.response)==null?void 0:a.status)===401?(localStorage.removeItem("auth"),{logout:!0,redirectTo:"/login"}):{}}},pe=[{name:"Dashboard",href:"/admin/dashboard",icon:te},{name:"Users",href:"/admin/users",icon:re},{name:"Vendors",href:"/admin/vendors",icon:ne},{name:"Listings",href:"/admin/listings",icon:oe},{name:"Orders",href:"/admin/orders",icon:K},{name:"Disputes",href:"/admin/disputes",icon:Q},{name:"Payouts",href:"/admin/payouts",icon:ie},{name:"Categories",href:"/admin/categories",icon:b},{name:"Coupons",href:"/admin/coupons",icon:b},{name:"Tickets",href:"/admin/tickets",icon:me},{name:"Audit Logs",href:"/admin/audit-logs",icon:ce}];function ge(){const[s,a]=f.useState(!1),[o,n]=f.useState("light"),[t,r]=f.useState("en"),l=ee(),m=ae(),{mutate:h}=W(),p=async()=>{h(),l("/login")},y=()=>{const i=o==="light"?"dark":"light";n(i),document.documentElement.classList.toggle("dark",i==="dark")},E=()=>{const i=t==="en"?"ar":"en";r(i),document.documentElement.setAttribute("dir",i==="ar"?"rtl":"ltr"),document.documentElement.setAttribute("lang",i)},g=()=>e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center justify-between p-4 border-b border-border",children:e.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Admin Panel"})}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:pe.map(i=>{const j=m.pathname===i.href;return e.jsxs(u,{variant:j?"default":"ghost",className:`w-full justify-start ${j?"bg-primary text-primary-foreground":""}`,onClick:()=>{l(i.href),a(!1)},children:[e.jsx(i.icon,{className:"mr-3 h-4 w-4"}),i.name]},i.name)})})]});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(w,{open:s,onOpenChange:a,children:e.jsx(v,{side:"left",className:"w-64 p-0",children:e.jsx(g,{})})}),e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col",children:e.jsx(J,{className:"flex flex-col h-full",children:e.jsx(g,{})})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("header",{className:"bg-background border-b border-border px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(w,{children:[e.jsx(Y,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"sm",className:"md:hidden",children:e.jsx(q,{className:"h-5 w-5"})})}),e.jsx(v,{side:"left",className:"w-64 p-0",children:e.jsx(g,{})})]}),e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(R,{placeholder:"Search...",className:"pl-10"})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(u,{variant:"ghost",size:"sm",onClick:E,className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),t.toUpperCase()]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:y,children:o==="light"?e.jsx(de,{className:"h-4 w-4"}):e.jsx(le,{className:"h-4 w-4"})}),e.jsxs(V,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(u,{variant:"ghost",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:e.jsx(_,{className:"h-4 w-4 text-primary-foreground"})}),e.jsx("span",{className:"hidden sm:block",children:"Admin"})]})}),e.jsxs($,{align:"end",className:"w-56",children:[e.jsxs(x,{children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Profile"]}),e.jsxs(x,{children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Settings"]}),e.jsx(H,{}),e.jsxs(x,{onClick:p,children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),e.jsx("main",{className:"flex-1 overflow-auto p-6",children:e.jsx(U,{})})]})]})]})}const Ze=()=>e.jsx(z,{dataProvider:ue,authProvider:he,resources:[{name:"users",list:"/admin/users",create:"/admin/users/create",edit:"/admin/users/:id",show:"/admin/users/:id"},{name:"orders",list:"/admin/orders",show:"/admin/orders/:id"},{name:"disputes",list:"/admin/disputes",show:"/admin/disputes/:id"}],children:e.jsx(ge,{children:e.jsx(U,{})})});export{Ze as default};
