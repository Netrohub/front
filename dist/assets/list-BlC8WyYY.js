import{o as O,j as s,h as u,I as X,B as t,d as V,a9 as y}from"./index-CvtVSQws.js";import{r as c}from"./vendor-DnBvEODk.js";import{$ as w,P as S}from"./index-ZkMoe5Ru.js";import{D as I,C as T}from"./ConfirmDialog-ccx73jiC.js";import{a as P}from"./router-B69B8wSc.js";import{P as r}from"./package-BeMcByKj.js";import{T as A}from"./trending-up-DqLIO90z.js";import{C as B}from"./circle-x-UqMaUdGw.js";import{C as F}from"./clock-CNb7Ahlq.js";import{f as $}from"./utils-BladrqYR.js";import"./ui-B3mmoSQN.js";import"./forms-CGt9tnos.js";import"./table-DHWKtPDL.js";import"./ellipsis-D-65NNj6.js";import"./eye-BqvVw_K2.js";import"./square-pen-CS4WnWAc.js";import"./trash-2-DNt_devB.js";import"./chevron-left-CfNPirT5.js";import"./triangle-alert-C1PIbXHT.js";function le(){var x;const f=P(),{toast:N}=O(),[l,a]=c.useState({open:!1,listingId:null}),[o,h]=c.useState(""),[d,b]=c.useState("all"),{data:m,isLoading:D,refetch:v}=w({resource:"products",pagination:{current:1,pageSize:10}}),{mutate:C}=S(),k=e=>{a({open:!0,listingId:e})},L=()=>{l.listingId&&C({resource:"products",id:l.listingId},{onSuccess:()=>{N({title:"Listing deleted",description:"Listing has been successfully deleted."}),v()},onError:()=>{N({title:"Error",description:"Failed to delete listing.",variant:"destructive"})}}),a({open:!1,listingId:null})},j=e=>{switch(e){case"active":return s.jsxDEV(t,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[s.jsxDEV(y,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:90,columnNumber:13},this),"Active"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:89,columnNumber:11},this);case"pending":return s.jsxDEV(t,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[s.jsxDEV(F,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:97,columnNumber:13},this),"Pending"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:96,columnNumber:11},this);case"rejected":return s.jsxDEV(t,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:[s.jsxDEV(B,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:104,columnNumber:13},this),"Rejected"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:103,columnNumber:11},this);case"draft":return s.jsxDEV(t,{variant:"secondary",children:"Draft"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:109,columnNumber:16},this);default:return s.jsxDEV(t,{variant:"secondary",children:e},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:111,columnNumber:16},this)}},E=[{key:"title",title:"Listing",dataIndex:"title",render:(e,n)=>s.jsxDEV("div",{className:"flex items-center gap-3",children:[s.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsxDEV(r,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:123,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:122,columnNumber:11},this),s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium",children:e},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:126,columnNumber:13},this),n.category&&s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:n.category},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:121,columnNumber:9},this)},{key:"seller",title:"Seller",dataIndex:"seller",render:e=>s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium",children:(e==null?void 0:e.name)||"N/A"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:140,columnNumber:11},this),s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:139,columnNumber:9},this)},{key:"price",title:"Price",dataIndex:"price",render:e=>s.jsxDEV("div",{children:s.jsxDEV("p",{className:"font-medium",children:["$",e==null?void 0:e.toFixed(2)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:151,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:150,columnNumber:9},this)},{key:"stock",title:"Stock",dataIndex:"stock",render:e=>s.jsxDEV(t,{variant:e>0?"secondary":"destructive",children:e||0},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:160,columnNumber:9},this)},{key:"status",title:"Status",dataIndex:"status",render:e=>j(e)},{key:"rating",title:"Rating",dataIndex:"rating",render:e=>e?s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV(V,{className:"h-4 w-4 text-yellow-500 fill-current"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:178,columnNumber:13},this),s.jsxDEV("span",{children:e.toFixed(1)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:179,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:177,columnNumber:11},this):s.jsxDEV("span",{className:"text-muted-foreground",children:"-"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:182,columnNumber:11},this)},{key:"sales_count",title:"Sales",dataIndex:"sales_count",render:e=>e?s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV(A,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:193,columnNumber:13},this),s.jsxDEV("span",{children:e},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:194,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:192,columnNumber:11},this):s.jsxDEV("span",{className:"text-muted-foreground",children:"0"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:197,columnNumber:11},this)},{key:"created_at",title:"Created",dataIndex:"created_at",render:e=>$(new Date(e),"MMM dd, yyyy")}],i=(x=m==null?void 0:m.data)==null?void 0:x.filter(e=>{var p,g;const n=e.title.toLowerCase().includes(o.toLowerCase())||((g=(p=e.seller)==null?void 0:p.name)==null?void 0:g.toLowerCase().includes(o.toLowerCase())),U=d==="all"||e.status===d;return n&&U});return s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("div",{children:[s.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:"Product Listings"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:220,columnNumber:11},this),s.jsxDEV("p",{className:"text-muted-foreground",children:"Manage product listings and approvals"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:221,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:219,columnNumber:9},this),s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV(u,{variant:"outline",children:[s.jsxDEV(r,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:225,columnNumber:13},this),"Export"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:224,columnNumber:11},this),s.jsxDEV(u,{children:[s.jsxDEV(r,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:229,columnNumber:13},this),"Add Listing"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:228,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:223,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:218,columnNumber:7},this),s.jsxDEV("div",{className:"flex items-center gap-4",children:[s.jsxDEV("div",{className:"relative flex-1 max-w-md",children:[s.jsxDEV(X,{placeholder:"Search listings...",value:o,onChange:e=>h(e.target.value),className:"pl-10"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:238,columnNumber:11},this),s.jsxDEV(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:244,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:237,columnNumber:9},this),s.jsxDEV("div",{className:"flex items-center gap-2",children:["all","active","pending","rejected"].map(e=>s.jsxDEV(u,{variant:d===e?"default":"outline",size:"sm",onClick:()=>b(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:248,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:246,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:236,columnNumber:7},this),s.jsxDEV(I,{data:i||[],columns:E,loading:D,pagination:{current:1,pageSize:10,total:(i==null?void 0:i.length)||0,onChange:(e,n)=>{}},actions:{view:e=>f(`/admin/listings/${e.id}`),edit:e=>f(`/admin/listings/${e.id}/edit`),delete:k}},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:260,columnNumber:7},this),s.jsxDEV(T,{open:l.open,onOpenChange:e=>a({open:e,listingId:null}),title:"Delete Listing",description:"Are you sure you want to delete this listing? This action cannot be undone.",confirmText:"Delete",variant:"destructive",onConfirm:L},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:279,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:217,columnNumber:5},this)}export{le as default};
