import{j as e}from"./ui-8LkqUuQ1.js";import{R as k}from"./vendor-DH0FW2o-.js";import{T as R,a as T,b as g,c as o,d as z,e as j}from"./table-8L0bK-M7.js";import{c as M,C as y,h as c,V as b,ah as K,ai as E,aj as I,ak as f,q,D as A,w as H,x as L,af as P,y as V,z as B,E as U,ag as F}from"./index-DJ-Zc7gD.js";import{E as $}from"./ellipsis-D_jF052c.js";import{E as G}from"./eye-eHhB2xYa.js";import{S as J}from"./square-pen-DgF4O29M.js";import{T as Q}from"./trash-2-D_VMLyqA.js";import{C as W}from"./chevron-left-CIsvNeiC.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=M("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);function re({data:i,columns:h,loading:u=!1,pagination:l,rowSelection:r,onRow:p,actions:d,bulkActions:m}){const[w,x]=k.useState(null),N=s=>{x(t=>(t==null?void 0:t.key)===s?t.direction==="asc"?{key:s,direction:"desc"}:null:{key:s,direction:"asc"})},n=k.useMemo(()=>r!=null&&r.selectedRowKeys?i.filter(s=>r.selectedRowKeys.includes(String(s.id))):[],[i,r==null?void 0:r.selectedRowKeys]);return u?e.jsx(y,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e.jsxs(y,{className:"p-6",children:[m&&n.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-muted rounded-lg flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.length," selected"]}),m.map((s,t)=>e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>s.onClick(n),children:[s.icon,s.label]},t))]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(R,{className:"min-w-[600px]",children:[e.jsx(T,{children:e.jsxs(g,{children:[r&&e.jsx(o,{className:"w-12",children:e.jsx(b,{checked:r.selectedRowKeys.length===i.length,onCheckedChange:s=>{s?r.onChange(i.map(t=>String(t.id))):r.onChange([])}})}),h.map(s=>e.jsx(o,{className:s.width?`w-[${s.width}]`:"",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.title,s.sorter&&e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>N(s.key),className:"h-6 w-6 p-0",children:e.jsx(X,{className:"h-4 w-4"})})]})},s.key)),d&&e.jsx(o,{className:"w-12",children:"Actions"})]})}),e.jsx(z,{children:i.length===0?e.jsx(g,{children:e.jsx(j,{colSpan:h.length+(r?1:0)+(d?1:0),children:e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data available"})})}):i.map((s,t)=>{var v;return e.jsxs(g,{children:[r&&e.jsx(j,{children:e.jsx(b,{checked:r.selectedRowKeys.includes(String(s.id)),onCheckedChange:a=>{const C=a?[...r.selectedRowKeys,String(s.id)]:r.selectedRowKeys.filter(D=>D!==String(s.id));r.onChange(C)}})}),h.map(a=>e.jsx(j,{children:a.render?a.render(a.dataIndex?s[a.dataIndex]:s,s,t):a.dataIndex?s[a.dataIndex]:s[a.key]},a.key)),d&&e.jsx(j,{children:e.jsxs(K,{children:[e.jsx(E,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx($,{className:"h-4 w-4"})})}),e.jsxs(I,{align:"end",children:[d.view&&e.jsxs(f,{onClick:()=>{var a;return(a=d.view)==null?void 0:a.call(d,s)},children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"View"]}),d.edit&&e.jsxs(f,{onClick:()=>{var a;return(a=d.edit)==null?void 0:a.call(d,s)},children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Edit"]}),(v=d.custom)==null?void 0:v.map((a,C)=>e.jsxs(f,{onClick:()=>a.onClick(s),children:[a.icon,a.label]},C)),d.delete&&e.jsxs(f,{onClick:()=>{var a;return(a=d.delete)==null?void 0:a.call(d,s)},className:"text-destructive",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},s.id)})})]})}),l&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(l.current-1)*l.pageSize+1," to"," ",Math.min(l.current*l.pageSize,l.total)," of"," ",l.total," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>l.onChange(l.current-1,l.pageSize),disabled:l.current<=1,children:[e.jsx(W,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("span",{className:"text-sm",children:["Page ",l.current," of ",Math.ceil(l.total/l.pageSize)]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>l.onChange(l.current+1,l.pageSize),disabled:l.current>=Math.ceil(l.total/l.pageSize),children:["Next",e.jsx(q,{className:"h-4 w-4"})]})]})]})]})}function de({open:i,onOpenChange:h,title:u,description:l,confirmText:r="Confirm",cancelText:p="Cancel",variant:d="default",loading:m=!1,onConfirm:w,onCancel:x}){const N=async()=>{try{await w(),h(!1)}catch(s){console.error("Confirmation error:",s)}},n=()=>{x==null||x(),h(!1)};return e.jsx(A,{open:i,onOpenChange:h,children:e.jsxs(H,{className:"sm:max-w-md",children:[e.jsxs(L,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[d==="destructive"&&e.jsx(P,{className:"h-5 w-5 text-destructive"}),e.jsx(V,{className:"text-lg font-semibold",children:u})]}),l&&e.jsx(B,{className:"text-sm text-muted-foreground",children:l})]}),e.jsxs(U,{className:"gap-2",children:[e.jsx(c,{variant:"outline",onClick:n,disabled:m,children:p}),e.jsxs(c,{variant:d==="destructive"?"destructive":"default",onClick:N,disabled:m,className:"min-w-[100px]",children:[m&&e.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}),r]})]})]})})}export{de as C,re as D};
