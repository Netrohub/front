import{j as s,U as m,a3 as p,ar as a,g as C,B as c}from"./index-BZlA92XH.js";import{r as f}from"./vendor-DQvVfnsa.js";import{D as y,C as N}from"./ConfirmDialog-5zKKP97v.js";import{u as O}from"./useAdminList-DX6kUOPm.js";import{u as j}from"./useAdminMutation-BwaRv8DM.js";import{a as L}from"./router-BExlMM7t.js";import{f as E}from"./utils-BCmzG2VI.js";import"./ui-CwEIh0Je.js";import"./i18n-Bz0PQRhM.js";import"./forms-BFmgPBvO.js";import"./table-DWCzkhSF.js";import"./LoadingSpinner-B1OFfV_g.js";import"./EmptyState-DrFWtGG7.js";import"./ellipsis-DhNQXUrS.js";import"./square-pen-DlyM5vW8.js";import"./trash-2-Dufbv3Mf.js";import"./chevron-left-DNl1TZmu.js";import"./triangle-alert-BVA8bf7s.js";function J(){const l=L(),[i,n]=f.useState({open:!1,disputeId:null}),[r,o]=f.useState({open:!1,disputeId:null}),{data:t,isLoading:x}=O({endpoint:"/disputes",initialSearchTerm:""}),{update:d}=j({endpoint:"/disputes",invalidateQueries:["admin-list","/disputes"]}),h=e=>{n({open:!0,disputeId:e})},D=e=>{o({open:!0,disputeId:e})},b=async()=>{if(i.disputeId)try{await d(i.disputeId,{state:"in_review"}),a.success("Moderator Assigned",{description:"A moderator has been assigned to this dispute."})}catch(e){console.error("Failed to assign moderator:",e)}n({open:!1,disputeId:null})},v=async()=>{if(r.disputeId)try{await d(r.disputeId,{state:"resolved"}),a.success("Dispute Resolved",{description:"The dispute has been marked as resolved."})}catch(e){console.error("Failed to resolve dispute:",e)}o({open:!1,disputeId:null})},g=[{key:"id",title:"ID",dataIndex:"id",render:e=>`#${e}`},{key:"order_id",title:"Order",dataIndex:"order_id",render:e=>s.jsxDEV(C,{variant:"link",onClick:()=>l(`/admin/orders/${e}`),className:"p-0 h-auto",children:["Order #",e]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:102,columnNumber:9},this)},{key:"type",title:"Type",dataIndex:"type",render:e=>s.jsxDEV(c,{variant:"outline",className:"capitalize",children:e},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:116,columnNumber:9},this)},{key:"state",title:"Status",dataIndex:"state",render:e=>s.jsxDEV(c,{variant:e==="resolved"?"default":e==="in_review"?"secondary":"destructive",className:"capitalize",children:e.replace("_"," ")},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:126,columnNumber:9},this)},{key:"buyer",title:"Buyer",dataIndex:"buyer",render:e=>s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium",children:e.name},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:143,columnNumber:11},this),s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:e.email},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:142,columnNumber:9},this)},{key:"amount",title:"Amount",dataIndex:"amount",render:e=>`$${e.toFixed(2)}`},{key:"created_at",title:"Created",dataIndex:"created_at",render:e=>E(new Date(e),"MMM dd, yyyy")}],k=[{label:"Assign Moderator",onClick:()=>u("Assign Moderator"),icon:s.jsxDEV(m,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:166,columnNumber:13},this)},{label:"Resolve",onClick:()=>u("Resolve"),icon:s.jsxDEV(p,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:171,columnNumber:13},this)}],u=e=>{a.info("Bulk Action",{description:`${e} applied to selected disputes.`})};return s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between",children:s.jsxDEV("div",{children:[s.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:"Disputes"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:185,columnNumber:11},this),s.jsxDEV("p",{className:"text-muted-foreground",children:"Manage customer disputes and resolutions"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:184,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:183,columnNumber:7},this),s.jsxDEV(y,{data:t||[],columns:g,loading:x,pagination:{current:1,pageSize:10,total:(t==null?void 0:t.length)||0,onChange:(e,U)=>{}},actions:{view:e=>l(`/admin/disputes/${e.id}`),custom:[{label:"Assign Moderator",onClick:e=>h(e.id),icon:s.jsxDEV(m,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:208,columnNumber:21},this)},{label:"Resolve",onClick:e=>D(e.id),icon:s.jsxDEV(p,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:213,columnNumber:21},this)}]},bulkActions:k},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:190,columnNumber:7},this),s.jsxDEV(N,{open:i.open,onOpenChange:e=>n({open:e,disputeId:null}),title:"Assign Moderator",description:"Are you sure you want to assign a moderator to this dispute?",confirmText:"Assign",onConfirm:b},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:220,columnNumber:7},this),s.jsxDEV(N,{open:r.open,onOpenChange:e=>o({open:e,disputeId:null}),title:"Resolve Dispute",description:"Are you sure you want to mark this dispute as resolved?",confirmText:"Resolve",onConfirm:v},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:229,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/disputes/list.tsx",lineNumber:182,columnNumber:5},this)}export{J as default};
//# sourceMappingURL=list-BXmt9ONM.js.map
