import{j as e}from"./ui-8LkqUuQ1.js";import{r as t}from"./vendor-DH0FW2o-.js";import{A as F}from"./AccountLayout-Crg4DFY9.js";import{m as I,C as u,B as c,h as r,D as z,w as L,x as B,y as O,z as V,T as o,I as m,E as H}from"./index-DJ-Zc7gD.js";import{L as D}from"./router-DNfABZAc.js";import{A as $,a as Y,b as q,c as J,d as R,e as U,f as W,g as G}from"./alert-dialog-DNoamkU5.js";import{C as K}from"./circle-check-LsiX4M5g.js";import{P as Q}from"./plus-DNKbOeYo.js";import{C as X}from"./credit-card-CxEM56tP.js";import{T as Z}from"./trash-2-D_VMLyqA.js";import"./sheet-Cg-hKhGh.js";import"./layout-dashboard-NQGphfyQ.js";import"./wallet-pzP2r6KL.js";import"./bell-Cq7S1dTa.js";import"./utils-BladrqYR.js";import"./forms-DPxY1lef.js";const _=[{id:1,type:"visa",last4:"4242",expiry:"12/25",isDefault:!0},{id:2,type:"mastercard",last4:"5555",expiry:"08/26",isDefault:!1}],ee=[{id:"INV-001",description:"Pro Plan - Monthly",amount:29,date:"2024-01-20",status:"paid"},{id:"INV-002",description:"Pro Plan - Monthly",amount:29,date:"2023-12-20",status:"paid"},{id:"INV-003",description:"Pro Plan - Monthly",amount:29,date:"2023-11-20",status:"paid"}],be=()=>{const{toast:a}=I(),[l,x]=t.useState(_),[w,i]=t.useState(!1),[P,h]=t.useState(!1),[g,b]=t.useState(null),[d,j]=t.useState(""),[f,N]=t.useState(""),[p,y]=t.useState(""),[v,C]=t.useState(""),A=()=>{a({title:"Cancel Subscription",description:"Please contact support to cancel your subscription.",variant:"destructive"})},S=async()=>{if(!d||!f||!p||!v){a({title:"All fields required",description:"Please fill in all card details.",variant:"destructive"});return}try{a({title:"Adding card...",description:"Please wait."}),await new Promise(n=>setTimeout(n,1500));const s={id:Date.now(),type:d.startsWith("4")?"visa":"mastercard",last4:d.slice(-4),expiry:p,isDefault:l.length===0};x([...l,s]),a({title:"Card added! ðŸ’³",description:"Payment method has been saved successfully."}),i(!1),j(""),N(""),y(""),C("")}catch{a({title:"Error",description:"Failed to add card. Please try again.",variant:"destructive"})}},k=s=>{x(l.map(n=>({...n,isDefault:n.id===s}))),a({title:"Default updated! âœ…",description:"Payment method set as default successfully."})},T=s=>{b(s),h(!0)},M=()=>{g&&(x(l.filter(s=>s.id!==g)),a({title:"Card deleted",description:"Payment method has been removed."}),h(!1),b(null))},E=s=>{a({title:"Downloading invoice...",description:`Downloading ${s}`}),setTimeout(()=>{a({title:"Download complete!",description:"Invoice downloaded successfully."})},1e3)};return e.jsx(F,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-2",children:"Billing & Subscription"}),e.jsx("p",{className:"text-foreground/60",children:"Manage your subscription and payment methods"})]}),e.jsxs(u,{className:"glass-card p-6 border border-primary/30",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx(c,{className:"badge-glow border-0 mb-3",children:"Current Plan"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Pro Plan"}),e.jsx("p",{className:"text-foreground/60",children:"Unlimited listings, 3% transaction fee"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-black bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-1",children:"$29"}),e.jsx("p",{className:"text-sm text-foreground/60",children:"per month"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg glass-card border border-border/30 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground mb-1",children:"Next billing date"}),e.jsx("p",{className:"text-sm text-foreground/60",children:"February 20, 2024"})]}),e.jsxs(c,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),"Active"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(r,{asChild:!0,variant:"outline",className:"glass-card border-border/50",children:e.jsx(D,{to:"/pricing",children:"Change Plan"})}),e.jsx(r,{variant:"ghost",className:"text-destructive hover:text-destructive",onClick:A,children:"Cancel Subscription"})]})]}),e.jsxs(u,{className:"glass-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Payment Methods"}),e.jsxs(r,{size:"sm",className:"btn-glow",onClick:()=>i(!0),children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Add Card"]})]}),e.jsx("div",{className:"space-y-3",children:l.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg glass-card border border-border/30",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-primary/10 border border-primary/20",children:e.jsx(X,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("p",{className:"font-semibold text-foreground capitalize",children:[s.type," â€¢â€¢â€¢â€¢ ",s.last4]}),s.isDefault&&e.jsx(c,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20 text-xs",children:"Default"})]}),e.jsxs("p",{className:"text-sm text-foreground/60",children:["Expires ",s.expiry]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[!s.isDefault&&e.jsx(r,{size:"sm",variant:"outline",className:"glass-card border-border/50",onClick:()=>k(s.id),children:"Set as Default"}),e.jsx(r,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>T(s.id),children:e.jsx(Z,{className:"h-4 w-4"})})]})]},s.id))})]}),e.jsxs(u,{className:"glass-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Billing History"}),e.jsx(r,{asChild:!0,variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80",children:e.jsx(D,{to:"/account/billing",children:"View All"})})]}),e.jsx("div",{className:"space-y-3",children:ee.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg glass-card border border-border/30",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground mb-1",children:s.description}),e.jsxs("p",{className:"text-sm text-foreground/60",children:["Invoice #",s.id," â€¢ ",s.date]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:s.status}),e.jsxs("p",{className:"text-lg font-bold text-foreground",children:["$",s.amount.toFixed(2)]}),e.jsx(r,{size:"sm",variant:"outline",className:"glass-card border-border/50",onClick:()=>E(s.id),children:"Download"})]})]},s.id))})]}),e.jsx(z,{open:w,onOpenChange:i,children:e.jsxs(L,{className:"glass-card border-border/50",children:[e.jsxs(B,{children:[e.jsx(O,{children:"Add Payment Method"}),e.jsx(V,{children:"Add a new credit or debit card to your account."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"newCardName",children:"Cardholder Name"}),e.jsx(m,{id:"newCardName",placeholder:"John Doe",value:f,onChange:s=>N(s.target.value),className:"glass-card border-border/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"newCardNumber",children:"Card Number"}),e.jsx(m,{id:"newCardNumber",placeholder:"4111 1111 1111 1111",value:d,onChange:s=>j(s.target.value),className:"glass-card border-border/50",maxLength:19})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"newExpiry",children:"Expiry (MM/YY)"}),e.jsx(m,{id:"newExpiry",placeholder:"12/25",value:p,onChange:s=>y(s.target.value),className:"glass-card border-border/50",maxLength:5})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"newCvv",children:"CVV"}),e.jsx(m,{id:"newCvv",placeholder:"123",value:v,onChange:s=>C(s.target.value),className:"glass-card border-border/50",maxLength:4})]})]})]}),e.jsxs(H,{children:[e.jsx(r,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(r,{className:"btn-glow",onClick:S,children:"Add Card"})]})]})}),e.jsx($,{open:P,onOpenChange:h,children:e.jsxs(Y,{className:"glass-card border-border/50",children:[e.jsxs(q,{children:[e.jsx(J,{children:"Delete Payment Method?"}),e.jsx(R,{children:"This will permanently remove this payment method from your account. This action cannot be undone."})]}),e.jsxs(U,{children:[e.jsx(W,{children:"Cancel"}),e.jsx(G,{onClick:M,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})})};export{be as default};
