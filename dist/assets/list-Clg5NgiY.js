import{j as s,g as u,I as j,B as t,d as E,ad as U,a3 as O,ar as X}from"./index-B5kKUWkY.js";import{r as c}from"./vendor-DQvVfnsa.js";import{D as V,C as y}from"./ConfirmDialog-CbzH_PcU.js";import{u as w}from"./useAdminList-DwT5uqdh.js";import{u as S}from"./useAdminMutation-BZdRKp4p.js";import{a as I}from"./router-BExlMM7t.js";import{P as l}from"./package-CE-DdfFk.js";import{T}from"./trending-up-DTTKNvyv.js";import{C as A}from"./circle-x-B8e1Z8kA.js";import{f as B}from"./utils-BCmzG2VI.js";import"./ui-CwEIh0Je.js";import"./i18n-Bz0PQRhM.js";import"./forms-BFmgPBvO.js";import"./table-Cl8vcEvN.js";import"./LoadingSpinner-78jUDY4G.js";import"./EmptyState-D8cUa8jg.js";import"./ellipsis-BM35M8zx.js";import"./square-pen-CkubsZPl.js";import"./trash-2-upuw1QQp.js";import"./chevron-left-N_nzJEL2.js";import"./triangle-alert-CGndg-SR.js";function le(){const f=I(),[r,a]=c.useState({open:!1,listingId:null}),[o,p]=c.useState(""),[d,g]=c.useState("all"),{data:m,isLoading:h}=w({endpoint:"/products",initialSearchTerm:""}),{remove:b}=S({endpoint:"/products",invalidateQueries:["admin-list","/products"]}),D=e=>{a({open:!0,listingId:e})},v=async()=>{if(r.listingId)try{await b(r.listingId),X.success("Listing deleted",{description:"Listing has been successfully deleted."})}catch(e){console.error("Failed to delete listing:",e)}a({open:!1,listingId:null})},C=e=>{switch(e){case"active":return s.jsxDEV(t,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[s.jsxDEV(O,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:83,columnNumber:13},this),"Active"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:82,columnNumber:11},this);case"pending":return s.jsxDEV(t,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[s.jsxDEV(U,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:90,columnNumber:13},this),"Pending"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:89,columnNumber:11},this);case"rejected":return s.jsxDEV(t,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:[s.jsxDEV(A,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:97,columnNumber:13},this),"Rejected"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:96,columnNumber:11},this);case"draft":return s.jsxDEV(t,{variant:"secondary",children:"Draft"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:102,columnNumber:16},this);default:return s.jsxDEV(t,{variant:"secondary",children:e},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:104,columnNumber:16},this)}},k=[{key:"title",title:"Listing",dataIndex:"title",render:(e,n)=>s.jsxDEV("div",{className:"flex items-center gap-3",children:[s.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsxDEV(l,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:115,columnNumber:11},this),s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium",children:e},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:119,columnNumber:13},this),n.category&&s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:n.category},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:121,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:114,columnNumber:9},this)},{key:"seller",title:"Seller",dataIndex:"seller",render:e=>s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium",children:(e==null?void 0:e.name)||"N/A"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:133,columnNumber:11},this),s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:132,columnNumber:9},this)},{key:"price",title:"Price",dataIndex:"price",render:e=>s.jsxDEV("div",{children:s.jsxDEV("p",{className:"font-medium",children:["$",e==null?void 0:e.toFixed(2)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:144,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:143,columnNumber:9},this)},{key:"stock",title:"Stock",dataIndex:"stock",render:e=>s.jsxDEV(t,{variant:e>0?"secondary":"destructive",children:e||0},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:153,columnNumber:9},this)},{key:"status",title:"Status",dataIndex:"status",render:e=>C(e)},{key:"rating",title:"Rating",dataIndex:"rating",render:e=>e?s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV(E,{className:"h-4 w-4 text-yellow-500 fill-current"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:171,columnNumber:13},this),s.jsxDEV("span",{children:e.toFixed(1)},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:170,columnNumber:11},this):s.jsxDEV("span",{className:"text-muted-foreground",children:"-"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:175,columnNumber:11},this)},{key:"sales_count",title:"Sales",dataIndex:"sales_count",render:e=>e?s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV(T,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:186,columnNumber:13},this),s.jsxDEV("span",{children:e},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:185,columnNumber:11},this):s.jsxDEV("span",{className:"text-muted-foreground",children:"0"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:190,columnNumber:11},this)},{key:"created_at",title:"Created",dataIndex:"created_at",render:e=>B(new Date(e),"MMM dd, yyyy")}],i=m==null?void 0:m.filter(e=>{var N,x;const n=e.title.toLowerCase().includes(o.toLowerCase())||((x=(N=e.seller)==null?void 0:N.name)==null?void 0:x.toLowerCase().includes(o.toLowerCase())),L=d==="all"||e.status===d;return n&&L});return s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("div",{children:[s.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:"Product Listings"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:213,columnNumber:11},this),s.jsxDEV("p",{className:"text-muted-foreground",children:"Manage product listings and approvals"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:214,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:212,columnNumber:9},this),s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV(u,{variant:"outline",children:[s.jsxDEV(l,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:218,columnNumber:13},this),"Export"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:217,columnNumber:11},this),s.jsxDEV(u,{children:[s.jsxDEV(l,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:222,columnNumber:13},this),"Add Listing"]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:221,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:216,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:211,columnNumber:7},this),s.jsxDEV("div",{className:"flex items-center gap-4",children:[s.jsxDEV("div",{className:"relative flex-1 max-w-md",children:[s.jsxDEV(j,{placeholder:"Search listings...",value:o,onChange:e=>p(e.target.value),className:"pl-10"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:231,columnNumber:11},this),s.jsxDEV(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:237,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:230,columnNumber:9},this),s.jsxDEV("div",{className:"flex items-center gap-2",children:["all","active","pending","rejected"].map(e=>s.jsxDEV(u,{variant:d===e?"default":"outline",size:"sm",onClick:()=>g(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:241,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:239,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:229,columnNumber:7},this),s.jsxDEV(V,{data:i||[],columns:k,loading:h,pagination:{current:1,pageSize:10,total:(i==null?void 0:i.length)||0,onChange:(e,n)=>{}},actions:{view:e=>f(`/admin/listings/${e.id}`),edit:e=>f(`/admin/listings/${e.id}/edit`),delete:D}},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:253,columnNumber:7},this),s.jsxDEV(y,{open:r.open,onOpenChange:e=>a({open:e,listingId:null}),title:"Delete Listing",description:"Are you sure you want to delete this listing? This action cannot be undone.",confirmText:"Delete",variant:"destructive",onConfirm:v},void 0,!1,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:272,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/p5l/Desktop/NXOLand/nxoland-frontend/src/features/listings/list.tsx",lineNumber:210,columnNumber:5},this)}export{le as default};
//# sourceMappingURL=list-Clg5NgiY.js.map
